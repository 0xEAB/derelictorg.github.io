<!DOCTYPE HTML>
<html lang="en">
<head>
    <title>Derelict Documentation -- Packages -- GLFW3</title>
    <meta name="author" content="Mike Parker">
    <meta name="description" content="Documentation for the DerelictOrg project (https://github.com/DerelictOrg/).">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="../css/reset.css">
    <link rel="stylesheet" type="text/css" href="../css/style.css">
</head>
<body>
    <div id="header" role="banner">
        <h1>DerelictGLFW3</h1>
    </div>
    <div class="col-sidebar">
        <div id="navbar" role="navigation">
            <ul class="menu">
            <li class="menu"><a href="../index.html">Home</a></li>
            <li class="menu"><a href="../using.html">Using Derelict</a></li>
            <li class="menu"><a href="../packages.html">Derelict Packages</a></li>
            </ul>
        </div
    </div>
    <div class="col-main">
        <div class="note" role="complementary">
            <p>Please note that this documentation is a work in progress and is currently incomplete.</p>
        </div>
        <div id="content">
            <h2>DerelictGLFW3</h2>

            <p>DerelictGLFW3 provides both dynamic and static D bindings to the 3.x series of the <a href="http://www.glfw.org" target="_blank">GLFW</a> library. DerelictGLFW3 <tt>1.0.x</tt> is a dynamic binding to the <tt>3.0</tt> series of GLFW and DerelictGLFW3 <tt>1.1.x</tt> is a dynamic binding to the <tt>3.1</tt> series. DerelictGLF3 <tt>2.0.0</tt> provides both static and dynamic bindings to GLFW3 <tt>3.1</tt>. This is what new projects should be using, as all future bug fixes will be applied here. Derelict's <a href="../using/load.html#sharedlibversion">SharedLibVersion feature</a> is not currently supported for the dynamic bindings.

            <p>The following sections explain how to build and use DerelictGLFW3. See the page <a href="../using.html">Using Derelict</a> for more information on using the dynamic bindings. Note that precompiled binaries of GLFW3 are available from <a href="http://www.glfw.org/download.html">the GLFW3 download page</a> and can also be installed through your system's package manager on POSIX systems. When using the dynamic bindings, you only need the GLFW3 shared library (the .dll or .so) for your system.</p>

            <h3>Using With DUB -- Dynamic Bindings</h3>

            <p>The easiest way to use DerelictGLFW3 is to use DUB to manage your project and add it as a dependency in your project configuration file. Those using <a href="http://code.dlang.org/package-format?lang=json" target="_blank">the JSON format</a> should add the following to the <em>"dependencies"</em> field of <em>dub.json</em>.</p>

            <pre>
            "derelict-glfw3": "~>2.0.0"
            </pre>

            <p>Those using <a href="http://code.dlang.org/package-format?lang=sdl" target="_blank">the Simple Declarative Language (SDLang)</a> should add the following to <em>dub.sdl</em>.</p>

            <pre>
            dependency "derelict-glfw3" version="~>2.0.0"
            </pre>

            <p>Both of the above lines will add support for the most up-to-date binding to GLFW 3.1. For GLFW 3.0, use <tt>"~>1.0.0"</tt> instead. See <a href="../compiling#dub">the documentation</a> on using Derelict packages with DUB-managed projects for more information.</p>

            Static bindings require a link-time dep

            <h3>Using Without DUB -- Dynamic Bindings</h3>

            <p>It is not necessary to use DUB to manage your project in order to use DerelictGLFW3, but it is still required to build it. To do so, make sure DUB, DMD and git are all available on your system path, then execute the following commands to obtain the source code. The simplest way is to use DUB to fetch the latest version of both <a href="http://code.dlang.org/packages/derelict-glfw3" target="_blank">DerelictGLFW3</a> and <a href="http://code.dlang.org/packages/derelict-util" target="_blank">DerelictUtil</a> (the links lead to the DUB registry page for each project, where you can find the latest version number). See <a href="../compiling#nodub">the documentation</a> on using Derelict with projects not managed by DUB for more information.</p>

            <h3>Loading -- Dynamic Bindings Only</h3>
            <p>Using the dynamic bindings requires you to load the GLFW3 shared library manually at runtime. To load the GLFW3 library with DerelictGLFW3, call one of the overloads of the load method on the DerelictGLFW3 instance.</p>
            <pre><code>
            // This import syntax only works with DerelictGLFW3 2.x
            import derelict.glfw3;
            DerelictGLFW3.load();
            </code></pre>

            <p>Note that versions <tt>1.0</tt> and <tt>1.1</tt> of DerelictGLFW3 do not support the above import syntax. With those versions, you must use the following syntax.</p>
            <pre><code>
            // Works with DerelictGLFW3 1.x and 2.x
            import derelict.glfw3.glfw3;
            </code></pre>

            <p>This no-argument version of <tt>load</tt> will attempt to load the GLFW3 library using a default set of system-specific library names to look for on the system search path. Overloads accept one or more custom library names to search for. See <a href="../using.html">the general documentation</a> on using Derelict for more information relevant to all shared libraries.</p>

            <a name="statbind"><h3>Static Bindings</h3></a>

            <p>DerelictGLFW3 2.x provides the option to use a static binding to GLFW3. When doing so,you may link either dynamically or statically with GLFW3 (see <a href="../dynstat.html">this page</a> for an explanation of the difference between static and dynamic bindings and their relationship with static and dynamic linking). With this approach, it is no longer necessary to manually load the GLFW3 shared library at runtime with <tt>DerelictGLFW3.load</tt>.</p>

            <p>Note that it is beyond the scope of this document to explain how to link dynamically or statically, the issues with object file formats, or which libraries you need to link with. If you are not comfortable with these topics, you'll probably be better served by using the dynamic bindings as explained above until you are.</p>

            <p>When using DUB to manage your project (recommended), you can add the following to your project's <tt>dub.sdl</tt> file.

            <pre>
            dependency "derelict-glfw3" version="~>2.0.0"
            subConfiguration "derelict-glfw3" "derelict-glfw3-static"
            </pre>

            <p>You'll also need to make sure that the development libraries for GLFW3 are installed on your system. On POSIX systems, this can be done with the system package manager (assuming it has been updated with GLFW 3.1 or later), or by building the libraries manually from source. On Windows, you can download one of the binary packages from <a href="http://www.glfw.org/download.html">the GLFW3 download page</a> or build from source manually. Once they are installed, you can, for example, add the following to your <tt>dub.sdl</tt> to link dynamically with GLFW3.</p>

            <pre>
            libs "glfw3dll" platform="windows"
            libs "glfw3" platform="posix"
            </pre>

            <p>Note that these library names are taken from GLFW3's default build configuration. Change them as required if you've renamed them somehow. For those with a <tt>dub.json</tt>, the necessary lines look like this:</p>

            <pre>
            "dependencies": {
                "derelict-glfw3": "~>2.0.0"
            },
            "subConfigurations": {
                "derelict-glfw3": "derelict-glfw3-static"
            }
            "libs-windows": ["glfw3dll"],
            "libs-posix": ["glfw3"]
            </pre>

            <p>When not using DUB to manage your project, you can execute the following commands to compile a static binding of DerelictGLFW3 using DUB.</p>

            <pre>
            mkdir derelict
            cd derelict
            dub fetch --cache=local derelict-glfw3 --version=2.0.0
            cd derelict-glfw3-2.0.0
            dub build -brelease -cderelict-glfw3-static
            </pre>

            <p>This will create a static library (<tt>DerelictGLFW3.lib</tt> or <tt>libDerelictGLFW3.a</tt>) in the <tt>derelict-glfw3-2.0.0/lib</tt> directory. When compiling your project, you will need to link with both this library and the appropriate GLFW3 library (statically or dynamically).</tt>

            <p class="note">For Windows users, it is important that you pay attention to the object file formats when linking dynamically or statically with GLFW3. The precompiled binary packages at the GLFW3 website are built with MinGW and various versions of Microsoft Visual Studio. The MinGW binaries will not work with DMD, nor with a version of LDC that uses the Microsoft toolchain. They should work, however, with GDC or a MinGW-based version of LDC. The 32-bit binaries compiled with Visual Studio will also not work with DMD unless you use the -m32mscoff flag when compiling your program. For DUB-managed projects, this is problematic as DUB does not yet have built-in support for this flag. The 64-bit Visual Studio binaries will work with DMD when using the -m64 flag, which DUB supports via the -ax86_64 command line switch.</p>

        </div>
    </div>
</body>
</html>
